{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst initialState = {\n  isloading: false,\n  login: false,\n  errorMessage: null,\n  user: {}\n};\nexport const login = createAsyncThunk(\"user-login\", async user => {\n  const response = await axios.post(\"/api/v1/login\", user);\n  console.log(response.data.user);\n  return response.data;\n});\nexport const logout = createAsyncThunk(\"user-logout\", async () => {\n  let response = await axios.post(\"/api/v1/logout\");\n  return response.data.success;\n});\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [login.fulfilled]: (state, action) => {\n      state.login = true;\n      state.user = action.payload.user;\n    },\n    [login.rejected]: (state, action) => {\n      state.isloading = false;\n      state.errorMessage = \"Wrong email and password \";\n    },\n    [login.pending]: state => {\n      state.isloading = true;\n    },\n    // logout ---------------------------------------------\n    [logout.fulfilled]: (state, action) => {\n      state.login = false;\n    },\n    [logout.rejected]: (state, action) => {\n      state.isloading = false;\n    },\n    [logout.pending]: state => {\n      state.isloading = true;\n    }\n  }\n});\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","isloading","login","errorMessage","user","response","post","console","log","data","logout","success","userSlice","name","reducers","extraReducers","fulfilled","state","action","payload","rejected","pending","reducer"],"sources":["D:/Parking management/frontend/src/store/slice/login-slice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n  isloading: false,\r\n  login: false,\r\n  errorMessage: null,\r\n  user: {},\r\n};\r\n\r\nexport const login = createAsyncThunk(\"user-login\", async (user) => {\r\n  const response = await axios.post(\"/api/v1/login\", user);\r\n  console.log(response.data.user);\r\n  return response.data;\r\n});\r\n\r\nexport const logout = createAsyncThunk(\"user-logout\", async () => {\r\n  let response = await axios.post(\"/api/v1/logout\");\r\n  return response.data.success;\r\n});\r\n\r\nconst userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState,\r\n\r\n  reducers: {},\r\n\r\n  extraReducers: {\r\n    [login.fulfilled]: (state, action) => {\r\n      state.login = true;\r\n      state.user = action.payload.user;\r\n    },\r\n    [login.rejected]: (state, action) => {\r\n      state.isloading = false;\r\n      state.errorMessage = \"Wrong email and password \";\r\n    },\r\n    [login.pending]: (state) => {\r\n      state.isloading = true;\r\n    },\r\n    // logout ---------------------------------------------\r\n    [logout.fulfilled]: (state, action) => {\r\n      state.login = false;\r\n    },\r\n    [logout.rejected]: (state, action) => {\r\n      state.isloading = false;\r\n    },\r\n    [logout.pending]: (state) => {\r\n      state.isloading = true;\r\n    },\r\n  },\r\n});\r\n\r\nexport default userSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;EACnBC,SAAS,EAAE,KADQ;EAEnBC,KAAK,EAAE,KAFY;EAGnBC,YAAY,EAAE,IAHK;EAInBC,IAAI,EAAE;AAJa,CAArB;AAOA,OAAO,MAAMF,KAAK,GAAGJ,gBAAgB,CAAC,YAAD,EAAe,MAAOM,IAAP,IAAgB;EAClE,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,IAAN,CAAW,eAAX,EAA4BF,IAA5B,CAAvB;EACAG,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,IAAT,CAAcL,IAA1B;EACA,OAAOC,QAAQ,CAACI,IAAhB;AACD,CAJoC,CAA9B;AAMP,OAAO,MAAMC,MAAM,GAAGZ,gBAAgB,CAAC,aAAD,EAAgB,YAAY;EAChE,IAAIO,QAAQ,GAAG,MAAMN,KAAK,CAACO,IAAN,CAAW,gBAAX,CAArB;EACA,OAAOD,QAAQ,CAACI,IAAT,CAAcE,OAArB;AACD,CAHqC,CAA/B;AAKP,MAAMC,SAAS,GAAGf,WAAW,CAAC;EAC5BgB,IAAI,EAAE,MADsB;EAE5Bb,YAF4B;EAI5Bc,QAAQ,EAAE,EAJkB;EAM5BC,aAAa,EAAE;IACb,CAACb,KAAK,CAACc,SAAP,GAAmB,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACpCD,KAAK,CAACf,KAAN,GAAc,IAAd;MACAe,KAAK,CAACb,IAAN,GAAac,MAAM,CAACC,OAAP,CAAef,IAA5B;IACD,CAJY;IAKb,CAACF,KAAK,CAACkB,QAAP,GAAkB,CAACH,KAAD,EAAQC,MAAR,KAAmB;MACnCD,KAAK,CAAChB,SAAN,GAAkB,KAAlB;MACAgB,KAAK,CAACd,YAAN,GAAqB,2BAArB;IACD,CARY;IASb,CAACD,KAAK,CAACmB,OAAP,GAAkBJ,KAAD,IAAW;MAC1BA,KAAK,CAAChB,SAAN,GAAkB,IAAlB;IACD,CAXY;IAYb;IACA,CAACS,MAAM,CAACM,SAAR,GAAoB,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACrCD,KAAK,CAACf,KAAN,GAAc,KAAd;IACD,CAfY;IAgBb,CAACQ,MAAM,CAACU,QAAR,GAAmB,CAACH,KAAD,EAAQC,MAAR,KAAmB;MACpCD,KAAK,CAAChB,SAAN,GAAkB,KAAlB;IACD,CAlBY;IAmBb,CAACS,MAAM,CAACW,OAAR,GAAmBJ,KAAD,IAAW;MAC3BA,KAAK,CAAChB,SAAN,GAAkB,IAAlB;IACD;EArBY;AANa,CAAD,CAA7B;AA+BA,eAAeW,SAAS,CAACU,OAAzB"},"metadata":{},"sourceType":"module"}